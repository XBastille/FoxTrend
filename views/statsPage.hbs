<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Statistics</title>
    <script src='https://cdn.plot.ly/plotly-2.32.0.min.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="/public/graphstatss.css">
    <style>
        :root {
            --accent-color: #9f1c7e;
            --cube-edge-color: #FFFFFF;
            --cube-dotted-color: rgba(255, 255, 255, 0.5);
        }

        .loading-container {
            width: 70vw;
            height: 75vh;
            position: absolute;
            overflow: hidden;
            display: none;
            justify-content: center;
            align-items: center;
            margin-left: 200px;
            margin-top: 160px;
        }

        .center-image {
            width: 80%;
            height: 80%;
            object-fit: cover;
            position: relative;
        }

        .center-element {
            position: relative;
            width: 330px;
            height: 330px;
            border-radius: 50%;
            background: linear-gradient(to right, #600093, #000000);
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            animation: heartbeat 1.5s ease-in-out infinite;
        }

        .cube {
            position: absolute;
            width: 300px;
            height: 300px;
            transform-style: preserve-3d;
            transform: rotateX(45deg) rotateY(45deg);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .right {
            transform: rotateY(90deg) translateZ(150px);
        }

        .left {
            transform: rotateY(-180deg) translateZ(150px);
        }

        .top {
            transform: rotateX(90deg) translateZ(150px);
        }

        .cube-edge {
            position: absolute;
            width: 100%;
            height: 100%;
            box-sizing: border-box;
        }

        @keyframes drawDottedLine {
            0% {
                opacity: 0;
                clip-path: polygon(0% 0%, 0% 0%, 0% 0%, 0% 0%);
            }

            100% {
                opacity: 1;
                clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);
            }
        }

        @keyframes drawSolidLine {
            0% {
                opacity: 0;
                border: 2px solid var(--cube-edge-color);
                clip-path: polygon(0% 0%, 0% 0%, 0% 0%, 0% 0%);
            }

            100% {
                opacity: 1;
                border: 2px solid var(--cube-edge-color);
                clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);
            }
        }

        @keyframes disappearSolidLine {
            0% {
                opacity: 1;
                clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);
            }

            100% {
                opacity: 0;
                clip-path: polygon(100% 0%, 100% 100%, 0% 100%, 0% 0%);
            }
        }

        @keyframes disappearDottedLine {
            0% {
                opacity: 1;
                clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);
            }

            100% {
                opacity: 0;
                clip-path: polygon(100% 0%, 100% 100%, 0% 100%, 0% 0%);
            }
        }

        .cube-edge::before,
        .cube-edge::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            box-sizing: border-box;
        }

        .cube-edge::before {
            border: 2px dotted var(--cube-dotted-color);
            opacity: 0;
            animation:
                drawDottedLine 2s ease-in-out forwards,
                disappearDottedLine 2s 8s ease-in-out forwards;
        }

        .cube-edge::after {
            border: 2px solid var(--cube-edge-color);
            opacity: 0;
            animation:
                drawSolidLine 2s 2s ease-in-out forwards,
                disappearSolidLine 2s 6s ease-in-out forwards;
        }

        @keyframes heartbeat {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }
        }
    </style>
</head>

<body>
    <div class="prediction-popup">
  <div class="disclaimer">
    <h3>Stock Prediction Disclaimer</h3>
    <p>While our Machine Learning model has been extensively trained on historical market data and patterns, please note that stock market predictions inherently involve uncertainty. Our model provides data-driven insights based on past trends, but market conditions can change rapidly due to various external factors. We recommend using these predictions as one of many tools in your investment decision-making process.</p>
  </div>
  <div class="input-container">
    <div class="input-group">
      <label for="trials">Number of Trials</label>
      <input type="number" id="trials" min="1" max="100" value="10">
      <i class="fas fa-info-circle info-icon"></i>
      <div class="info-tooltip">More trials lead to better prediction accuracy but increase processing time.</div>
    </div>
    <div class="input-group">
      <label for="days">Days to Predict</label>
      <input type="number" id="days" min="1" max="30" value="7">
      <i class="fas fa-info-circle info-icon"></i>
      <div class="info-tooltip">Longer prediction periods may reduce accuracy due to increasing market uncertainties. Recommended: 1-14 days.</div>
    </div>
  </div>
  <div class="buttons">
    <button class="cancel-btn">Cancel</button>
    <button class="predict-btn">Predict</button>
  </div>
</div>
    <div class="loading-container" id="loading">

        <div class="grid"></div>
        <div class="snake snake-horizontal"></div>
        <div class="snake snake-horizontal"></div>
        <div class="snake snake-vertical"></div>
        <div class="snake snake-vertical"></div>
        <div class="snake snake-horizontal"></div>
        <div class="snake snake-vertical"></div>
        <div class="snake snake-top"></div>
        <div class="snake snake-diagonal-right"></div>
        <div class="center-element">
            <img src="https://github.com/XBastille/FoxTrend/blob/NSA/media/fox.jpg?raw=true" alt="Your Image"
                class="center-image">
        </div>
        <div class="cube">
            <div class="cube-edge top"></div>
            <div class="cube-edge right"></div>
            <div class="cube-edge left"></div>
        </div>
    </div>
    <div id="background">
        <ul class="icons open">
            <a href="#" class="fox-icon-link">
                <img src="media/fox.jpg" alt="Fox Icon" class="logo">
            </a>
            <li class="Icon-items" data-name="Home">
                <img src="media/home.jpg" id="item1">
                <button><span class="icon-name">Home</span></button>
            </li>
            <li class="Icon-items" data-name="Watch">
                <img src="media/recent_watch.jpg" id="item2">
                <button id="was"><span class="icon-name">Watch</span></button>
            </li>
            <li class="Icon-items" data-name="Lists">
                <img src="media/list.jpg" id="item3">
                <button id="lts"><span class="icon-name">Lists</span></button>
            </li>
            <li class="Icon-items" data-name="Donate">
                <img src="media/donate.jpg" id="item4">
                <button><span class="icon-name">Donate</span></button>
            </li>
            <li class="Icon-items" data-name="Profile">
                <img src="media/account.jpg" id="item5">
                <button id="prof"><span class="icon-name">Profile</span></button>
            </li>
            <li class="Arrow">
                <img src="media/arrow-right.jpg">
            </li>
        </ul>



        <div class="search-container">
            <input type="text" class="search-bar" id="searching" placeholder="Search">
            <i class="search-icon fas fa-search"></i>
            <div class="magnifying-glass">
                <i class="fa-solid fa-magnifying-glass"></i>
            </div>
            <div class="navigationBar">
                <a href="#" class="serv">
                    Services
                    <svg width="20" height="20" viewBox="0 -4 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5 7.5L10 12.5L15 7.5" stroke="currentColor" stroke-width="1.67" stroke-linecap="round"
                            stroke-linejoin="round"></path>
                    </svg>
                </a>
                <a href="#" class="comp">
                    Company
                    <svg width="20" height="20" viewBox="0 -4 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5 7.5L10 12.5L15 7.5" stroke="currentColor" stroke-width="1.67" stroke-linecap="round"
                            stroke-linejoin="round"></path>
                    </svg>
                </a>
                <a href="#" class="blog">Blog</a>
                <a href="#" class="port">Contact Us</a>
                <div class="services-dropdown">
                    <div class="services-dropdown-content">
                        <div class="services-label">
                            <h1>Services</h1>
                        </div>
                        <div class="services-dropdown-column">
                            <div class="primary-section">
                                <h2>Primary <span class="arrow">→</span></h2>
                                <div class="primary-elements">
                                    <a href="/dashboard">Stock Market Prediction</a>
                                </div>
                            </div>
                        </div>
                        <div class="services-dropdown-column">
                            <h3>Secondary <span class="arrow">→</span></h3>
                            <div class="secondary-section">
                                <div class="secondary-elements">
                                    <a href="#">Used Car Prediction</a>
                                    <a href="#">Housing Prediction</a>
                                    <a href="#">Loan Approval Prediction</a>
                                </div>
                            </div>
                        </div>
                        <img src="media/services.jpg" alt="Your Alt Text" class="service-image">
                    </div>
                </div>
                <div class="company-dropdown">
                    <div class="company-dropdown-content">
                        <div class="company-label">
                            <h1>Company</h1>
                        </div>
                        <div class="company-dropdown-column">
                            <h2>MORE ABOUT US</h2>
                            <a href="#">About Us</a>
                            <a href="#">Blog</a>
                            <a href="#">Privacy Policy</a>
                            <a href="#">License</a>
                        </div>
                        <div class="company-dropdown-column">
                            <h2>SOCIAL</h2>
                            <a href="#">LinkedIn</a>
                            <a href="#">Instagram</a>
                            <a href="#">X</a>
                        </div>
                        <div class="company-dropdown-column">
                            <h2>CONTACTS</h2>
                            <a href="#">Book a Call</a>
                            <a href="#">Mail Us</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>




        <div class="rightBox" style="float: right;">
            <ul>
                <button id="aapl">Predict AAPL</button><br>
                <div class="data">
                    <a class="sum" href="summary">Summary</a><br><br>
                    <a class="cha" href="chartPage"> Chart</a><br><br>
                    <a class="histo" href="historicdata"> Historical Data</a><br><br>
                    <a class="stat">Statistics</a><br><br>
                    <a class="pro" href="profilePage">Profile</a><br><br>
                </div>
                <button id="Add"> Add To Lists</button>
            </ul>
        </div>






        <div class="desc">
            <h1 id="Company_title"></h1>
            <h1 id="Company_price"></h1>
            <h5>-$2.51(-1.13%) Pre-market</h5>
            <h4>24 Hour Market</h4>
        </div>
        <div class="Advance" style=" padding: 20px; width: 50px;">
            <button style="transform: translateX(1800%); border: none; background: transparent; ;">Advance</button>
        </div>
        <div class="Valuation_Measures">
            <h2>Valuation Measures</h2>
            <table>
                <th> </th>
                <th>Current</th>
                <th>6/30/2024</th>
                <th>3/31/2024</th>
                <th>12/31/2023</th>
                <th>9/30/2023</th>
                <th>6/30/2023</th>

                <tr>
                    <td>Market Cap</td>
                    <td>3.47T</td>
                    <td>3.23T</td>
                    <td>2.65T</td>
                    <td>2.99T</td>
                    <td>2.68T</td>
                    <td>3.05T</td>
                </tr>
                <tr>
                    <td>Enterprise Value</td>
                    <td>3.51T</td>
                    <td>3.27T</td>
                    <td>2.68T</td>
                    <td>3.06T</td>
                    <td>2.72T</td>
                    <td>3.10T</td>
                </tr>
                <tr>
                    <td>Trailing P/E</td>
                    <td>34.73</td>
                    <td>32.76</td>
                    <td>26.67</td>
                    <td>31.41</td>
                    <td>28.73</td>
                    <td>32,88</td>
                </tr>
                <tr>
                    <td>Forward P/E</td>
                    <td>30.03</td>
                    <td>28.65</td>
                    <td>26.32</td>
                    <td>29.15</td>
                    <td>25.77</td>
                    <td>29.41</td>
                </tr>
                <tr>
                    <td>PEG Ratio (5yr expected)</td>
                    <td>2.19</td>
                    <td>2.23</td>
                    <td>2.11</td>
                    <td>2.31</td>
                    <td>2.18</td>
                    <td>2.66</td>
                </tr>
                <tr>
                    <td>Price/Sales</td>
                    <td>9.18</td>
                    <td>8.62</td>
                    <td>6.99</td>
                    <td>7.94</td>
                    <td>7.10</td>
                    <td>8.08</td>
                </tr>
                <tr>
                    <td>Price/Book</td>
                    <td>52.01</td>
                    <td>43.21</td>
                    <td>35.49</td>
                    <td>47.90</td>
                    <td>44.17</td>
                    <td>49.08</td>
                </tr>
                <tr>
                    <td>Enterprise Value/Revenue</td>
                    <td>9.10</td>
                    <td>8.56</td>
                    <td>6.96</td>
                    <td>7.98</td>
                    <td>7.09</td>
                    <td>8.06</td>
                </tr>
                <tr>
                    <td>Enterprise Value/EBITDA</td>
                    <td>25.96</td>
                    <td>24.57</td>
                    <td>20.10</td>
                    <td>23.66</td>
                    <td>21.46</td>
                    <td>24.51</td>
                </tr>
            </table>

        </div>

        <div class="FinancialHighlights">
            <h2>Financial Highlights</h2>
            <h3>Profitability</h3>
            <table>
                <tr>
                    <td>Profit Margin</td>
                    <td id="profit"><b></b></td>
                </tr>
                <tr>
                    <td>Operating Margin (ttm)</td>
                    <td id="operator"><b></b></td>
                </tr>
            </table>

            <h3>Management Effectiveness</h3>
            <table>
                <tr>
                    <td>Return on Assets (ttm)</td>
                    <td id="roa"><b></b></td>
                </tr>
                <tr>
                    <td>Return on Equity (ttm)</td>
                    <td id="roe"><b></b></td>
                </tr>
            </table>

            <h3>Income Statement</h3>
            <table>
                <tr>
                    <td>Revenue (ttm)</td>
                    <td id="revenue"><b></b></td>
                </tr>
                <tr>
                    <td>Revenue Per Share (ttm)</td>
                    <td id="ros"><b></b></td>
                </tr>
                <tr>
                    <td>EBITDA</td>
                    <td id="ebita"><b></b></td>
                </tr>
                <tr>
                    <td>Net Income to Common (ttm)</td>
                    <td id="nitc"><b></b></td>
                </tr>
            </table>

            <h3>Balance Sheet</h3>
            <table>
                <tr>
                    <td>Total Cash (mrq)</td>
                    <td id="tc"><b></b></td>
                </tr>
                <tr>
                    <td>Total Cash Per Share (ttm)</td>
                    <td id="tcps"><b></b></td>
                </tr>
                <tr>
                    <td>Total Debt (mrq)</td>
                    <td id="tds"><b></b></td>
                </tr>
                <tr>
                    <td>Current Ratio (mrq)</td>
                    <td id="cr"><b></b></td>
                </tr>
            </table>

            <h3>Cash Flow Statement</h3>
            <table>
                <tr>
                    <td>Operating Cash Flow (ttm)</td>
                    <td id="ocf"><b></b></td>
                </tr>
            </table>
        </div>

        <div class="TradingInformation">
            <h2>Trading Information</h2>
            <h3>Stock Price History</h3>
            <table>
                <tr>
                    <td>Beta (5Y Monthly)</td>
                    <td id="bb"><b></b></td>
                </tr>
                <tr>
                    <td>S&P 500 52-Week Change</td>
                    <td id="sand"><b></b></td>
                </tr>
                <tr>
                    <td>52 Week High</td>
                    <td id="ftwh"><b></b></td>
                </tr>
                <tr>
                    <td>52 Week Low</td>
                    <td id="ftwl"><b></b></td>
                </tr>
                <tr>
                    <td>50-Day Average</td>
                    <td id="fda"><b></b></td>
                </tr>
                <tr>
                    <td>200-Day Moving Average</td>
                    <td id="thdma"><b></b></td>
                </tr>
            </table>

            <h3>Share Statistics</h3>
            <table>
                <tr>
                    <td>Avg Vol (10 day)</td>
                    <td id="av"><b></b></td>
                </tr>
                <tr>
                    <td>Shares Outstanding</td>
                    <td id="so"><b></b></td>
                </tr>
                <tr>
                    <td>Implied Shares Outstanding</td>
                    <td id="iso"><b></b></td>
                </tr>
                <tr>
                    <td>Float Shares</td>
                    <td id="fs"><b></b></td>
                </tr>
                <tr>
                    <td>% Held by Insiders</td>
                    <td id="hinsider"><b></b></td>
                </tr>
                <tr>
                    <td>% Held by Institutions</td>
                    <td id="hi"><b></b></td>
                </tr>
                <tr>
                    <td>Shares Short(8/30/2024)</td>
                    <td id="ss"><b></b></td>
                </tr>
                <tr>
                    <td>Shares Ratio(8/30/2024)</td>
                    <td id="sr"><b></b></td>
                </tr>
                <tr>
                    <td>Short % of Shares Outstanding (8/30/2024)</td>
                    <td id="sso"><b></b></td>
                </tr>
                <tr>
                    <td>Shares Short(prior month 7/31/2024)</td>
                    <td id="sshort"><b></b></td>
                </tr>
            </table>

            <h3>Dividents & Splits</h3>
            <table>
                <tr>
                    <td>Trailing Annual Dividend Rate</td>
                    <td id="tadr"><b></b></td>
                </tr>
                <tr>
                    <td>Trailing Annual Dividend Yeild</td>
                    <td id="tady"><b></b></td>
                </tr>
                <tr>
                    <td>5 Year Average Divedend Yeild</td>
                    <td id="yady"><b></b></td>
                </tr>
                <tr>
                    <td>Payout Ratio</td>
                    <td id="pr"><b></b></td>
                </tr>
                <tr>
                    <td>Dividend Date</td>
                    <td><b>8/15/2024</b></td>
                </tr>
                <tr>
                <tr>
                    <td>Ex-Dividend Date</td>
                    <td><b>8/12/2024</b></td>
                </tr>
                <tr>
                    <td>Last Split Factor</td>
                    <td id="lsf"><b></b></td>
                </tr>
                </tr>
                <td>Last Split Date</td>
                <td><b>8/31/2020</b></td>
                </tr>

            </table>

        </div>

        <div class="AbbreviationGuide">
            <h2>Abbreviation Guide</h2>
            <p>
                mrq = Most Recent Quarter<br>
                ttm = Trailing Twelve Months<br>
                yoy = Year Over Year<br>
                lfy = Last Fiscal Year<br>
                fye = Fiscal Year Ending
            </p>
        </div>
        <div class="PeopleAlsoWatch">
            <h2 id="people">People Also Watch</h2>

            <div class="slider-container">

                <div class="company-container" id="slider">
                    <div class="company-box">
                        <b>AMZN</b>
                        <p>Amazon</p>
                        <p class="company-price">$519.38</p>
                        <a class="company-percent">1.29%</a>
                    </div>
                    <div class="company-box">
                        <b>TSLA</b>
                        <p>Tesla</p>
                        <p class="company-price">$412.62 </p>
                        <a class="company-percent">0.91%</a>
                    </div>
                    <div class="company-box">
                        <b>GOOG</b>
                        <p>Alphabet</p>
                        <p class="company-price">$685.09</p>
                        <a class="company-percent">0.80%</a>
                    </div>
                    <div class="company-box">
                        <b>META</b>
                        <p>Meta Platforms.</p>
                        <p class="company-price">$179.44</p>
                        <a class="company-percent">3.53%</a>
                    </div>
                    <div class="company-box">
                        <b>MSFT</b>
                        <p>Microsoft</p>
                        <p class="company-price">$160.28 </p>
                        <a class="company-percent">1.56%</a>
                    </div>
                    <div class="company-box">
                        <b>NTFLX</b>
                        <p>Netflix</p>
                        <p class="company-price">$233.29</p>
                        <a class="company-percent">6.33%</a>
                    </div>
                    <div class="company-box">
                        <b>NVDA</b>
                        <p>NVIDIA</p>
                        <p class="company-price">$108.75</p>
                        <a class="company-percent">2.39%</a>
                    </div>
                    <div class="company-box">
                        <b>AMD</b>
                        <p id="micro">Advanced Micro Devices </p>
                        <p class="company-price">$155.99</p>
                        <a class="company-percent">7.70%</a>
                    </div>
                    <div class="company-box">
                        <b>INTL</b>
                        <p>Intel</p>
                        <p class="company-price">$21.37</p>
                        <a class="company-percent">0.60%</a>
                    </div>
                </div>

                <div id="SliderBtns">

                    <span class="slider-btn next" onclick="slide(1)">
                        <img src="media/arrow-right.jpg">
                    </span>


                    <span class="slider-btn prev" onclick="slide(-1)">
                        <img src="media/arrow-left.jpg">
                    </span>

                </div>

            </div>
        </div>
        <style>
            ul {
                list-style-type: none;
                padding-inline-start: 0;
            }
        </style>
        <footer>
            <div class="footer-links">
                <img src="media/website_logo.jpg" class="foot-logo">
                <div class="footer-block">
                    <div class="footer-title" id="Comp">Company</div>
                    <li><a class="links" id="mail">Mail us</a></li>
                    <li><a class="links" id="SERV">Services</a></li>
                </div>

                <div class="footer-block">
                    <div class="footer-title" id="more">More</div>
                    <li><a class="links" id="tandc">Blog</a></li>
                    <li><a class="links" id="career">License</a></li>
                    <li><a class="links" id="privacy">Privacy Policy</a></li>
                </div>

                <div class="footer-block">
                    <div class="footer-title" id="social">Social</div>
                    <li><a class="links" id="linkedin">LinkedIn</a></li>
                    <li> <a class="links" id="yt">Instagram</a></li>
                    <li> <a class="links" id="tw">X</a></li>
                </div>

            </div>
        </footer>
    </div>
    <script>
        function restartCubeAnimation() {
            const cube = document.querySelector('.cube');
            const cubeEdges = cube.querySelectorAll('.cube-edge');
            cubeEdges.forEach(edge => {
                const clone = edge.cloneNode(true);
                edge.parentNode.replaceChild(clone, edge);
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            setInterval(restartCubeAnimation, 11600);
        });
        const profit = document.getElementById('profit')
        const operator = document.getElementById('operator')
        const roa = document.getElementById('roa')
        const roe = document.getElementById('roe')
        const revenue = document.getElementById('revenue')
        const Company_title = document.getElementById('Company_title')
        const Company_price = document.getElementById('Company_price')
        const ros = document.getElementById('ros')
        const ebita = document.getElementById('ebita')
        const nitc = document.getElementById('nitc')
        const tc = document.getElementById('tc')
        const tcps = document.getElementById('tcps')
        const tds = document.getElementById('tds')
        const cr = document.getElementById('cr')
        const ocf = document.getElementById('ocf')
        const bb = document.getElementById('bb')
        const ftwl = document.getElementById('ftwl')
        const ftwh = document.getElementById('ftwh')
        const fda = document.getElementById('fda')
        const thdma = document.getElementById('thdma')
        const av = document.getElementById('av')
        const so = document.getElementById('so')
        const iso = document.getElementById('iso')
        const fs = document.getElementById('fs')
        const hinsider = document.getElementById('hinsider')
        const hi = document.getElementById('hi')
        const ss = document.getElementById('ss')
        const sr = document.getElementById('sr')
        const sso = document.getElementById('sso')
        const sshort = document.getElementById('sshort')
        const tadr = document.getElementById('tadr')
        const tady = document.getElementById('tady')
        const yady = document.getElementById('yady')
        const pr = document.getElementById('pr')
        const lsf = document.getElementById('lsf')
        const sand = document.getElementById('sand')
        function fetchjson() {
            fetch('/public/graph.json')
                .then((res) => {
                    if (!res.ok) {
                        console.log(res.status)
                    }
                    return res.json()
                })
                .then((data) => {
                    Company_title.innerText = data.shortName
                    Company_price.innerText = "$" + data.currentPrice
                    profit.innerText = data.profitMargins.toFixed(2) + "%"
                    operator.innerText = data.operatingMargins.toFixed(2) + "%"
                    roa.innerText = (data.returnOnAssets).toFixed(2) + "%"
                    roe.innerText = data.returnOnEquity.toFixed(2) + "%"
                    const reven = data.totalRevenue
                    revenue.innerText = (reven / 1000000000).toFixed(1) + "B"
                    ros.innerText = data.revenuePerShare
                    ebita.innerText = (data.ebitda / 1000000000).toFixed(1) + "B"
                    nitc.innerText = (data.netIncomeToCommon / 1000000000).toFixed(2) + "B"
                    tc.innerText = (data.totalCash / 1000000000).toFixed(1) + "B"
                    tcps.innerText = data.totalCashPerShare
                    tds.innerText = (data.totalDebt / 1000000000).toFixed(1) + "B"
                    cr.innerText = (data.currentRatio).toFixed(2)
                    ocf.innerText = (data.operatingCashflow / 1000000000).toFixed(2) + "B"
                    bb.innerText = data.beta
                    ftwl.innerText = data.fiftyTwoWeekLow
                    ftwh.innerText = data.fiftyTwoWeekHigh.toFixed(2)
                    fda.innerText = data.fiftyDayAverage.toFixed(2)
                    thdma.innerText = data.twoHundredDayAverage.toFixed(2)
                    av.innerText = (data.averageVolume / 1000000).toFixed(2) + "M"
                    so.innerText = (data.sharesOutstanding / 1000000000).toFixed(1) + "B"
                    iso.innerText = (data.sharesOutstanding / 1000000000).toFixed(2) + "B"
                    fs.innerText = (data.floatShares / 1000000000).toFixed(2) + "B"
                    hinsider.innerText = (data.heldPercentInsiders * 100).toFixed(2) + "%"
                    hi.innerText = (data.heldPercentInstitutions * 100).toFixed(2) + "%"
                    ss.innerText = (data.sharesShortPriorMonth / 1000000).toFixed(2) + "M"
                    sr.innerText = (data.shortRatio)
                    sso.innerText = data.sharesPercentSharesOut * 100 + "%"
                    sshort.innerText = (data.sharesShortPreviousMonthDate / 10000000).toFixed(2) + "M"
                    tadr.innerText = data.trailingAnnualDividendRate
                    tady.innerText = (data.trailingAnnualDividendYield * 100).toFixed(2) + "%"
                    yady.innerText = data.fiveYearAvgDividendYield
                    pr.innerText = (data.payoutRatio * 100).toFixed(2) + "%"
                    lsf.innerText = data.lastSplitFactor
                    sand.innerText = (data.SandP52WeekChange * 100).toFixed(2) + "%"
                })
                .catch((err) => {
                    console.log(err)
                })
        }
        document.addEventListener('DOMContentLoaded', function () {
            fetchjson();
        });
        const was = document.getElementById('was')
        was.addEventListener('click', () => {
            window.location.href = '/watch'
        })

        const lts = document.getElementById('lts')
        lts.addEventListener('click', () => {
            window.location.href = '/yourList'
        })

        const prof = document.getElementById('prof')
        prof.addEventListener('click', () => {
            window.location.href = '/userprofile'
        })

        //searching
        //------------------------------------------------------------------------------------------
        let val;
        const loading = document.getElementById('loading')
        const searching = document.getElementById('searching')
        const background = document.getElementById('background')
        searching.addEventListener('keypress', async (e) => {
            if (e.key === 'Enter') {
                val = searching.value
                searching.value = '';
                const dates = new Date()
                const month = dates.getMonth()
                const months = dates.getMonth() + 1
                let day = dates.getDate()
                let year = dates.getFullYear()
                if (month === 0) {
                    year = year - 1;
                    month = 12
                    months = 1;
                }
                const start = day + "-" + month + "-" + year
                const end = day + "-" + months + "-" + year
                loading.style.display = 'flex'
                loading.style.zIndex = '9999'
                background.style.zIndex = '-999'
                background.style.filter = 'blur(20px)'

                try {
                    const response = await fetch('/summary', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ val, start, end })
                    });
                    const data = await response.json();
                    console.log(data)
                    if (data.sucess === 'true') {
                        loading.style.display = 'none'
                        loading.style.zIndex = '-999'
                        background.style.zIndex = '999'
                        background.style.filter = 'none'
                        document.body.style.filter = 'none';
                        document.body.style.pointerEvents = 'auto'; // Re-enable interaction
                        window.location.href = '/summary';
                    }
                } catch (error) {
                    console.error('Error:', error);
                }
            }
        })

    </script>
    <script>
        document.getElementById('aapl').addEventListener('click', () => {
            const popup = document.querySelector('.prediction-popup');
            popup.style.display = 'block';
            setTimeout(() => popup.classList.add('show'), 10);
        });

        document.querySelector('.prediction-popup .cancel-btn').addEventListener('click', () => {
            const popup = document.querySelector('.prediction-popup');
            popup.classList.remove('show');
            setTimeout(() => popup.style.display = 'none', 300);
        });
    </script>

    <script src="/public/Stockspage.js"></script>
</body>

</html>