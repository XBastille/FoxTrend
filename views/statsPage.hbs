<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Statistics</title>
    <script src='https://cdn.plot.ly/plotly-2.32.0.min.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="/public/graphstatss.css">
    <style>
        :root {
            --accent-color: #9f1c7e;
            --cube-edge-color: #FFFFFF;
            --cube-dotted-color: rgba(255, 255, 255, 0.5);
        }

        .loading-container {
            width: 70vw;
            height: 75vh;
            position: absolute;
            overflow: hidden;
            display: none;
            justify-content: center;
            align-items: center;
            margin-left: 200px;
            margin-top: 160px;
        }

        .center-image {
            width: 80%;
            height: 80%;
            object-fit: cover;
            position: relative;
        }

        .center-element {
            position: relative;
            width: 330px;
            height: 330px;
            border-radius: 50%;
            background: linear-gradient(to right, #600093, #000000);
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            animation: heartbeat 1.5s ease-in-out infinite;
        }

        .cube {
            position: absolute;
            width: 300px;
            height: 300px;
            transform-style: preserve-3d;
            transform: rotateX(45deg) rotateY(45deg);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .right {
            transform: rotateY(90deg) translateZ(150px);
        }

        .left {
            transform: rotateY(-180deg) translateZ(150px);
        }

        .top {
            transform: rotateX(90deg) translateZ(150px);
        }

        .cube-edge {
            position: absolute;
            width: 100%;
            height: 100%;
            box-sizing: border-box;
        }

        @keyframes drawDottedLine {
            0% {
                opacity: 0;
                clip-path: polygon(0% 0%, 0% 0%, 0% 0%, 0% 0%);
            }

            100% {
                opacity: 1;
                clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);
            }
        }

        @keyframes drawSolidLine {
            0% {
                opacity: 0;
                border: 2px solid var(--cube-edge-color);
                clip-path: polygon(0% 0%, 0% 0%, 0% 0%, 0% 0%);
            }

            100% {
                opacity: 1;
                border: 2px solid var(--cube-edge-color);
                clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);
            }
        }

        @keyframes disappearSolidLine {
            0% {
                opacity: 1;
                clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);
            }

            100% {
                opacity: 0;
                clip-path: polygon(100% 0%, 100% 100%, 0% 100%, 0% 0%);
            }
        }

        @keyframes disappearDottedLine {
            0% {
                opacity: 1;
                clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);
            }

            100% {
                opacity: 0;
                clip-path: polygon(100% 0%, 100% 100%, 0% 100%, 0% 0%);
            }
        }

        .cube-edge::before,
        .cube-edge::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            box-sizing: border-box;
        }

        .cube-edge::before {
            border: 2px dotted var(--cube-dotted-color);
            opacity: 0;
            animation:
                drawDottedLine 2s ease-in-out forwards,
                disappearDottedLine 2s 8s ease-in-out forwards;
        }

        .cube-edge::after {
            border: 2px solid var(--cube-edge-color);
            opacity: 0;
            animation:
                drawSolidLine 2s 2s ease-in-out forwards,
                disappearSolidLine 2s 6s ease-in-out forwards;
        }

        @keyframes heartbeat {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }
        }
    </style>
</head>

<body>

    <div class="loading-container" id="loading">

        <div class="grid"></div>
        <div class="snake snake-horizontal"></div>
        <div class="snake snake-horizontal"></div>
        <div class="snake snake-vertical"></div>
        <div class="snake snake-vertical"></div>
        <div class="snake snake-horizontal"></div>
        <div class="snake snake-vertical"></div>
        <div class="snake snake-top"></div>
        <div class="snake snake-diagonal-right"></div>
        <div class="center-element">
            <img src="https://github.com/XBastille/FoxTrend/blob/NSA/media/fox.jpg?raw=true" alt="Your Image"
                class="center-image">
        </div>
        <div class="cube">
            <div class="cube-edge top"></div>
            <div class="cube-edge right"></div>
            <div class="cube-edge left"></div>
        </div>
    </div>
    <div id="background">
        <div class="prediction-popup">
            <div class="disclaimer">
                <h3>Stock Prediction Disclaimer</h3>
                <p>While our Machine Learning model has been extensively trained on historical market data and patterns,
                    please note that stock market predictions inherently involve uncertainty. Our model provides
                    data-driven
                    insights based on past trends, but market conditions can change rapidly due to various external
                    factors.
                    We recommend using these predictions as one of many tools in your investment decision-making
                    process.
                </p>
            </div>
            <div class="input-container">
                <div class="input-group">
                    <label for="trials">Number of Trials</label>
                    <input type="number" id="trials" min="1" max="100" value="10">
                    <i class="fas fa-info-circle info-icon"></i>
                    <div class="info-tooltip">More trials lead to better prediction accuracy but increase processing
                        time.
                    </div>
                </div>
                <div class="input-group">
                    <label for="days">Days to Predict</label>
                    <input type="number" id="days" min="1" max="30" value="7">
                    <i class="fas fa-info-circle info-icon"></i>
                    <div class="info-tooltip">Longer prediction periods may reduce accuracy due to increasing market
                        uncertainties. Recommended: 1-14 days.</div>
                </div>
            </div>
            <div class="buttons">
                <button class="cancel-btn">Cancel</button>
                <button class="predict-btn" id="future_prediction">Predict</button>
            </div>
        </div>
        <ul class="icons open">
            <a href="#" class="fox-icon-link">
                <img src="public/Media/fox.jpg" alt="Fox Icon" class="logo">
            </a>
            <a href="/dashboard">
                <li class="Icon-items" data-name="Home">
                    <img src="public/Media/home.jpg" id="item1" />
                    <button><span class="icon-name">Home</span></button>
                </li>
            </a>
            <li class="Icon-items" data-name="Watch">
                <img src="public/Media/recent_watch.jpg" id="item2">
                <button id="was"><span class="icon-name">Watch</span></button>
            </li>
            <li class="Icon-items" data-name="Lists">
                <img src="public/Media/list.jpg" id="item3">
                <button id="lts"><span class="icon-name">Lists</span></button>
            </li>
            <li class="Icon-items" data-name="Donate">
                <img src="public/Media/donate.jpg" id="item4">
                <button><span class="icon-name">Donate</span></button>
            </li>
            <li class="Icon-items" data-name="Profile">
                <img src="public/Media/account.jpg" id="item5">
                <button id="prof"><span class="icon-name">Profile</span></button>
            </li>
            <li class="Arrow">
                <img src="public/Media/arrow-right.jpg">
            </li>
        </ul>



        <div class="search-container">
            <input type="text" class="search-bar" id="searching" placeholder="Search">
            <i class="search-icon fas fa-search"></i>
            <div class="magnifying-glass">
                <i class="fa-solid fa-magnifying-glass"></i>
            </div>
            <div class="navigationBar">
                <a href="#" class="serv">
                    Services
                    <svg width="20" height="20" viewBox="0 -4 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5 7.5L10 12.5L15 7.5" stroke="currentColor" stroke-width="1.67" stroke-linecap="round"
                            stroke-linejoin="round"></path>
                    </svg>
                </a>
                <a href="#" class="comp">
                    Company
                    <svg width="20" height="20" viewBox="0 -4 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5 7.5L10 12.5L15 7.5" stroke="currentColor" stroke-width="1.67" stroke-linecap="round"
                            stroke-linejoin="round"></path>
                    </svg>
                </a>
                <a href="#" class="blog">Blog</a>
                <a href="https://mail.google.com/mail/u/0/#inbox?compose=GTvVlcSKjgJRjZdghDHWgvNWjpSMmRMVVprtPGJtLpldLsvnmhRDJFvWtbKpPQpRMlGhMpkFGmJNz" target="_blank" class="port">Contact Us</a>
                <div class="services-dropdown">
                    <div class="services-dropdown-content">
                        <div class="services-label">
                            <h1>Services</h1>
                        </div>
                        <div class="services-dropdown-column">
                            <div class="primary-section">
                                <h2>Primary <span class="arrow">→</span></h2>
                                <div class="primary-elements">
                                    <a href="/dashboard">Stock Market Prediction</a>
                                </div>
                            </div>
                        </div>
                        <div class="services-dropdown-column">
                            <h3>Secondary <span class="arrow">→</span></h3>
                            <div class="secondary-section">
                                <div class="secondary-elements">
                                    <a href="#">Used Car Prediction</a>
                                    <a href="#">Housing Prediction</a>
                                    <a href="#">Loan Approval Prediction</a>
                                </div>
                            </div>
                        </div>
                        <img src="public/Media/services.jpg" alt="Your Alt Text" class="service-image">
                    </div>
                </div>
                <div class="company-dropdown">
                    <div class="company-dropdown-content">
                        <div class="company-label">
                            <h1>Company</h1>
                        </div>
                        <div class="company-dropdown-column">
                            <h2>MORE ABOUT US</h2>
                            <a href="/journey">About Us</a>
                            <a href="#">Blog</a>
                            <a href="#">Privacy Policy</a>
                            <a href="#">License</a>
                        </div>
                        <div class="company-dropdown-column">
                            <h2>SOCIAL</h2>
                            <a href="/social" target="_blank">LinkedIn</a>
                            <a href="/social" target="_blank">Instagram</a>
                            <a href="/social" target="_blank">X</a>
                        </div>
                        <div class="company-dropdown-column">
                            <h2>CONTACTS</h2>
                            <a href="#">Book a Call</a>
                            <a href="https://mail.google.com/mail/u/0/#inbox?compose=GTvVlcSKjgJRjZdghDHWgvNWjpSMmRMVVprtPGJtLpldLsvnmhRDJFvWtbKpPQpRMlGhMpkFGmJNz" target="_blank">Mail Us</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>




        <div class="rightBox" style="float: right;">
            <ul>
                <button id="aapl"></button><br>
                <div class="data">
                    <a class="sum" href="summary">Summary</a><br><br>
                    <a class="cha" href="chartPage"> Chart</a><br><br>
                    <a class="histo" href="historicdata"> Historical Data</a><br><br>
                    <a class="stat">Statistics</a><br><br>
                    <a class="pro" href="profilePage">Profile</a><br><br>
                </div>
                <button id="Add"> Add To Lists</button>
            </ul>
        </div>






        <div class="desc">
            <h1 id="Company_title"></h1>
            <h1 id="Company_price"></h1>
            <h5>-$2.51(-1.13%) Pre-market</h5>
            <h4>24 Hour Market</h4>
        </div>
        <div class="Advance" style=" padding: 20px; width: 50px;">
            <button style="transform: translateX(1800%); border: none; background: transparent; ;">Advance</button>
        </div>
        <div class="Valuation_Measures">
            <h2>Valuation Measures</h2>
            <table>
                <th> </th>
                <th>Current</th>

                <tr>
                    <td>Market Cap</td>
                    <td>3.47T</td>
                </tr>
                <tr>
                    <td>Enterprise Value</td>
                    <td>3.51T</td>
                </tr>
                <tr>
                    <td>Trailing P/E</td>
                    <td>34.73</td>
                </tr>
                <tr>
                    <td>Forward P/E</td>
                    <td>30.03</td>
                </tr>
                <tr>
                    <td>PEG Ratio (5yr expected)</td>
                    <td>2.19</td>
                </tr>
                <tr>
                    <td>Price/Sales</td>
                    <td>9.18</td>
                </tr>
                <tr>
                    <td>Price/Book</td>
                    <td>52.01</td>
                </tr>
                <tr>
                    <td>Enterprise Value/Revenue</td>
                    <td>9.10</td>
                </tr>
                <tr>
                    <td>Enterprise Value/EBITDA</td>
                    <td>25.96</td>
                </tr>
            </table>
        </div>


        <div class="FinancialHighlights">
            <h2>Financial Highlights</h2>
            <h3>Profitability</h3>
            <table>
                <tr>
                    <td>Profit Margin</td>
                    <td id="profit"><b></b></td>
                </tr>
                <tr>
                    <td>Operating Margin (ttm)</td>
                    <td id="operator"><b></b></td>
                </tr>
            </table>

            <h3>Management Effectiveness</h3>
            <table>
                <tr>
                    <td>Return on Assets (ttm)</td>
                    <td id="roa"><b></b></td>
                </tr>
                <tr>
                    <td>Return on Equity (ttm)</td>
                    <td id="roe"><b></b></td>
                </tr>
            </table>

            <h3>Income Statement</h3>
            <table>
                <tr>
                    <td>Revenue (ttm)</td>
                    <td id="revenue"><b></b></td>
                </tr>
                <tr>
                    <td>Revenue Per Share (ttm)</td>
                    <td id="ros"><b></b></td>
                </tr>
                <tr>
                    <td>EBITDA</td>
                    <td id="ebita"><b></b></td>
                </tr>
                <tr>
                    <td>Net Income to Common (ttm)</td>
                    <td id="nitc"><b></b></td>
                </tr>
            </table>

            <h3>Balance Sheet</h3>
            <table>
                <tr>
                    <td>Total Cash (mrq)</td>
                    <td id="tc"><b></b></td>
                </tr>
                <tr>
                    <td>Total Cash Per Share (ttm)</td>
                    <td id="tcps"><b></b></td>
                </tr>
                <tr>
                    <td>Total Debt (mrq)</td>
                    <td id="tds"><b></b></td>
                </tr>
                <tr>
                    <td>Current Ratio (mrq)</td>
                    <td id="cr"><b></b></td>
                </tr>
            </table>

            <h3>Cash Flow Statement</h3>
            <table>
                <tr>
                    <td>Operating Cash Flow (ttm)</td>
                    <td id="ocf"><b></b></td>
                </tr>
            </table>
        </div>

        <div class="TradingInformation">
            <h2>Trading Information</h2>
            <h3>Stock Price History</h3>
            <table>
                <tr>
                    <td>Beta (5Y Monthly)</td>
                    <td id="bb"><b></b></td>
                </tr>
                <tr>
                    <td>S&P 500 52-Week Change</td>
                    <td id="sand"><b></b></td>
                </tr>
                <tr>
                    <td>52 Week High</td>
                    <td id="ftwh"><b></b></td>
                </tr>
                <tr>
                    <td>52 Week Low</td>
                    <td id="ftwl"><b></b></td>
                </tr>
                <tr>
                    <td>50-Day Average</td>
                    <td id="fda"><b></b></td>
                </tr>
                <tr>
                    <td>200-Day Moving Average</td>
                    <td id="thdma"><b></b></td>
                </tr>
            </table>

            <h3>Share Statistics</h3>
            <table>
                <tr>
                    <td>Avg Vol (10 day)</td>
                    <td id="av"><b></b></td>
                </tr>
                <tr>
                    <td>Shares Outstanding</td>
                    <td id="so"><b></b></td>
                </tr>
                <tr>
                    <td>Implied Shares Outstanding</td>
                    <td id="iso"><b></b></td>
                </tr>
                <tr>
                    <td>Float Shares</td>
                    <td id="fs"><b></b></td>
                </tr>
                <tr>
                    <td>% Held by Insiders</td>
                    <td id="hinsider"><b></b></td>
                </tr>
                <tr>
                    <td>% Held by Institutions</td>
                    <td id="hi"><b></b></td>
                </tr>
                <tr>
                    <td>Shares Short(8/30/2024)</td>
                    <td id="ss"><b></b></td>
                </tr>
                <tr>
                    <td>Shares Ratio(8/30/2024)</td>
                    <td id="sr"><b></b></td>
                </tr>
                <tr>
                    <td>Short % of Shares Outstanding (8/30/2024)</td>
                    <td id="sso"><b></b></td>
                </tr>
                <tr>
                    <td>Shares Short(prior month 7/31/2024)</td>
                    <td id="sshort"><b></b></td>
                </tr>
            </table>

            <h3>Dividents & Splits</h3>
            <table>
                <tr>
                    <td>Trailing Annual Dividend Rate</td>
                    <td id="tadr"><b></b></td>
                </tr>
                <tr>
                    <td>Trailing Annual Dividend Yeild</td>
                    <td id="tady"><b></b></td>
                </tr>
                <tr>
                    <td>5 Year Average Divedend Yeild</td>
                    <td id="yady"><b></b></td>
                </tr>
                <tr>
                    <td>Payout Ratio</td>
                    <td id="pr"><b></b></td>
                </tr>
                <tr>
                    <td>Dividend Date</td>
                    <td><b>8/15/2024</b></td>
                </tr>
                <tr>
                <tr>
                    <td>Ex-Dividend Date</td>
                    <td><b>8/12/2024</b></td>
                </tr>
                <tr>
                    <td>Last Split Factor</td>
                    <td id="lsf"><b></b></td>
                </tr>
                </tr>
                <td>Last Split Date</td>
                <td><b>8/31/2020</b></td>
                </tr>

            </table>

        </div>

        <div class="AbbreviationGuide">
            <h2>Abbreviation Guide</h2>
            <p>
                mrq = Most Recent Quarter<br>
                ttm = Trailing Twelve Months<br>
                yoy = Year Over Year<br>
                lfy = Last Fiscal Year<br>
                fye = Fiscal Year Ending
            </p>
        </div>
        <div class="PeopleAlsoWatch">
            <h2 id="people">People Also Watch</h2>

            <div class="slider-container">
                <div class="company-container" id="slider1">
                    <div class="company-box">
                        <b id="prcomptic1"></b>
                        <p id="prcompname1"></p>
                        <p class="company-price" id="prcompprice1"></p>
                        <a class="company-percent" id="prcomppercent1"></a>
                    </div>
                    <div class="company-box">
                        <b id="prcomptic2"></b>
                        <p id="prcompname2"></p>
                        <p class="company-price" id="prcompprice2"></p>
                        <a class="company-percent" id="prcomppercent2"></a>
                    </div>
                    <div class="company-box">
                        <b id="prcomptic3"></b>
                        <p id="prcompname3"></p>
                        <p class="company-price" id="prcompprice3"></p>
                        <a class="company-percent" id="prcomppercent3"></a>
                    </div>
                    <div class="company-box">
                        <b id="prcomptic4"></b>
                        <p id="prcompname4"></p>
                        <p class="company-price" id="prcompprice4"></p>
                        <a class="company-percent" id="prcomppercent4"></a>
                    </div>
                    <div class="company-box">
                        <b id="prcomptic5"></b>
                        <p id="prcompname5"></p>
                        <p class="company-price" id="prcompprice5"></p>
                        <a class="company-percent" id="prcomppercent5"></a>
                    </div>
                    <div class="company-box">
                        <b id="prcomptic6"></b>
                        <p id="prcompname6"></p>
                        <p class="company-price" id="prcompprice6"></p>
                        <a class="company-percent" id="prcomppercent6"></a>
                    </div>
                    <div class="company-box">
                        <b id="prcomptic7"></b>
                        <p id="prcompname7"></p>
                        <p class="company-price" id="prcompprice7"></p>
                        <a class="company-percent" id="prcomppercent7"></a>
                    </div>
                    <div class="company-box">
                        <b id="prcomptic8"></b>
                        <p id="prcompname8"></p>
                        <p class="company-price" id="prcompprice8"></p>
                        <a class="company-percent" id="prcomppercent8"></a>
                    </div>
                    <div class="company-box">
                        <b id="prcomptic9"></b>
                        <p id="prcompname9"></p>
                        <p class="company-price" id="prcompprice9"></p>
                        <a class="company-percent" id="prcomppercent9"></a>
                    </div>
                    <div class="company-box">
                        <b id="prcomptic10"></b>
                        <p id="prcompname10"></p>
                        <p class="company-price" id="prcompprice10"></p>
                        <a class="company-percent" id="prcomppercent10"></a>
                    </div>
                </div>

                <div id="SliderBtns">
                    <span class="slider-btn next" onclick="slide(1)">
                        <img src="public/Media/arrow-right.jpg" />
                    </span>

                    <span class="slider-btn prev" onclick="slide(-1)">
                        <img src="public/Media/arrow-left.jpg" />
                    </span>
                </div>
            </div>
        </div>
        <style>
            ul {
                list-style-type: none;
                padding-inline-start: 0;
            }
        </style>
        <footer>
            <div class="footer-links">
                <img src="public/Media/website_logo.jpg" class="foot-logo">
                <div class="footer-block">
                    <div class="footer-title" id="Comp">Company</div>
                    <li><a class="links" href="https://mail.google.com/mail/u/0/#inbox?compose=GTvVlcSKjgJRjZdghDHWgvNWjpSMmRMVVprtPGJtLpldLsvnmhRDJFvWtbKpPQpRMlGhMpkFGmJNz" target="_blank" id="mail">Mail us</a></li>
                    <li><a class="links" id="SERV">Services</a></li>
                </div>

                <div class="footer-block">
                    <div class="footer-title" id="more">More</div>
                    <li><a class="links" id="tandc">Blog</a></li>
                    <li><a class="links" id="career">License</a></li>
                    <li><a class="links" id="privacy">Privacy Policy</a></li>
                </div>

                <div class="footer-block">
                    <div class="footer-title" id="social">Social</div>
                    <li><a class="links" id="linkedin">LinkedIn</a></li>
                    <li> <a class="links" id="yt">Instagram</a></li>
                    <li> <a class="links" id="tw">X</a></li>
                </div>

            </div>
        </footer>
    </div>
    <script>
        function restartCubeAnimation() {
            const cube = document.querySelector('.cube');
            const cubeEdges = cube.querySelectorAll('.cube-edge');
            cubeEdges.forEach(edge => {
                const clone = edge.cloneNode(true);
                edge.parentNode.replaceChild(clone, edge);
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            setInterval(restartCubeAnimation, 11600);
        });
        const aapl = document.getElementById('aapl')
        const profit = document.getElementById('profit')
        const operator = document.getElementById('operator')
        const roa = document.getElementById('roa')
        const roe = document.getElementById('roe')
        const revenue = document.getElementById('revenue')
        const Company_title = document.getElementById('Company_title')
        const Company_price = document.getElementById('Company_price')
        const ros = document.getElementById('ros')
        const ebita = document.getElementById('ebita')
        const nitc = document.getElementById('nitc')
        const tc = document.getElementById('tc')
        const tcps = document.getElementById('tcps')
        const tds = document.getElementById('tds')
        const cr = document.getElementById('cr')
        const ocf = document.getElementById('ocf')
        const bb = document.getElementById('bb')
        const ftwl = document.getElementById('ftwl')
        const ftwh = document.getElementById('ftwh')
        const fda = document.getElementById('fda')
        const thdma = document.getElementById('thdma')
        const av = document.getElementById('av')
        const so = document.getElementById('so')
        const iso = document.getElementById('iso')
        const fs = document.getElementById('fs')
        const hinsider = document.getElementById('hinsider')
        const hi = document.getElementById('hi')
        const ss = document.getElementById('ss')
        const sr = document.getElementById('sr')
        const sso = document.getElementById('sso')
        const sshort = document.getElementById('sshort')
        const tadr = document.getElementById('tadr')
        const tady = document.getElementById('tady')
        const yady = document.getElementById('yady')
        const pr = document.getElementById('pr')
        const lsf = document.getElementById('lsf')
        const sand = document.getElementById('sand')
        let values = '';
        async function fetchjson() {
            try {
                const res = await fetch('/public/graph.json');
                console.log("Response status:", res.status);
                if (!res.ok) throw new Error("Failed to fetch data");
                const data = await res.json();
                values = data.symbol;
                aapl.innerText = "Predict " + values
                console.log(values)
                Company_title.innerText = data.shortName
                Company_price.innerText = "$" + data.currentPrice
                profit.innerText = data.profitMargins.toFixed(2) + "%"
                operator.innerText = data.operatingMargins.toFixed(2) + "%"
                roa.innerText = (data.returnOnAssets).toFixed(2) + "%"
                roe.innerText = data.returnOnEquity.toFixed(2) + "%"
                const reven = data.totalRevenue
                revenue.innerText = (reven / 1000000000).toFixed(1) + "B"
                ros.innerText = data.revenuePerShare
                ebita.innerText = (data.ebitda / 1000000000).toFixed(1) + "B"
                nitc.innerText = (data.netIncomeToCommon / 1000000000).toFixed(2) + "B"
                tc.innerText = (data.totalCash / 1000000000).toFixed(1) + "B"
                tcps.innerText = data.totalCashPerShare
                tds.innerText = (data.totalDebt / 1000000000).toFixed(1) + "B"
                cr.innerText = (data.currentRatio).toFixed(2)
                ocf.innerText = (data.operatingCashflow / 1000000000).toFixed(2) + "B"
                bb.innerText = data.beta
                ftwl.innerText = data.fiftyTwoWeekLow
                ftwh.innerText = data.fiftyTwoWeekHigh.toFixed(2)
                fda.innerText = data.fiftyDayAverage.toFixed(2)
                thdma.innerText = data.twoHundredDayAverage.toFixed(2)
                av.innerText = (data.averageVolume / 1000000).toFixed(2) + "M"
                so.innerText = (data.sharesOutstanding / 1000000000).toFixed(1) + "B"
                iso.innerText = (data.sharesOutstanding / 1000000000).toFixed(2) + "B"
                fs.innerText = (data.floatShares / 1000000000).toFixed(2) + "B"
                hinsider.innerText = (data.heldPercentInsiders * 100).toFixed(2) + "%"
                hi.innerText = (data.heldPercentInstitutions * 100).toFixed(2) + "%"
                ss.innerText = (data.sharesShortPriorMonth / 1000000).toFixed(2) + "M"
                sr.innerText = (data.shortRatio)
                sso.innerText = data.sharesPercentSharesOut * 100 + "%"
                sshort.innerText = (data.sharesShortPreviousMonthDate / 10000000).toFixed(2) + "M"
                tadr.innerText = data.trailingAnnualDividendRate
                tady.innerText = (data.trailingAnnualDividendYield * 100).toFixed(2) + "%"
                yady.innerText = data.fiveYearAvgDividendYield
                pr.innerText = (data.payoutRatio * 100).toFixed(2) + "%"
                lsf.innerText = data.lastSplitFactor
                sand.innerText = (data.SandP52WeekChange * 100).toFixed(2) + "%"
            } catch (err) {
                console.error("Error fetching JSON:", err);
                return null;
            }
            return values
        }
        document.addEventListener('DOMContentLoaded', async function () {
            const val = await fetchjson();
            const loads = document.getElementById('loading')
            const backs = document.getElementById('background')
            const future_prediction = document.getElementById('future_prediction')
            future_prediction.addEventListener('click', async () => {
                //val is the comapany setting
                const days = document.getElementById('days').value
                const trails = document.getElementById('trials').value
                console.log(val, trails, days)
                loads.style.display = 'flex'
                loads.style.zIndex = '999'
                backs.style.zIndex = '-999'
                backs.style.filter = 'blur(30px)'
                try {
                    const response = await fetch('/predict', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ val, days, trails })
                    });
                    const data = await response.json();
                    console.log(data)
                    if (data.sucess === 'true') {
                        loads.style.display = 'none'
                        loads.style.zIndex = '-999'
                        backs.style.zIndex = '999'
                        backs.style.filter = 'none'
                        window.location.href = 'predict'
                    }
                } catch (error) {
                    console.error('Error:', error);
                }
            })
        });
        const was = document.getElementById('was')
        was.addEventListener('click', () => {
            window.location.href = '/watch'
        })

        const lts = document.getElementById('lts')
        lts.addEventListener('click', () => {
            window.location.href = '/yourList'
        })

        const prof = document.getElementById('prof')
        prof.addEventListener('click', () => {
            window.location.href = '/userprofile'
        })

        //searching
        //------------------------------------------------------------------------------------------
        let val;
        const loading = document.getElementById('loading')
        const searching = document.getElementById('searching')
        const background = document.getElementById('background')
        searching.addEventListener('keypress', async (e) => {
            if (e.key === 'Enter') {
                val = searching.value
                searching.value = '';
                const dates = new Date()
                const month = dates.getMonth()
                const months = dates.getMonth() + 1
                let day = dates.getDate()
                let year = dates.getFullYear()
                if (month === 0) {
                    year = year - 1;
                    month = 12
                    months = 1;
                }
                const start = day + "-" + month + "-" + year
                const end = day + "-" + months + "-" + year
                loading.style.display = 'flex'
                loading.style.zIndex = '9999'
                background.style.zIndex = '-999'
                background.style.filter = 'blur(20px)'

                try {
                    const response = await fetch('/summary', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ val, start, end })
                    });
                    const data = await response.json();
                    console.log(data)
                    if (data.sucess === 'true') {
                        loading.style.display = 'none'
                        loading.style.zIndex = '-999'
                        background.style.zIndex = '999'
                        background.style.filter = 'none'
                        document.body.style.filter = 'none';
                        document.body.style.pointerEvents = 'auto'; // Re-enable interaction
                        window.location.href = '/summary';
                    }
                } catch (error) {
                    console.error('Error:', error);
                }
            }
        })

    </script>
    <script>
        document.getElementById('aapl').addEventListener('click', () => {
            const popup = document.querySelector('.prediction-popup');
            popup.style.display = 'block';
            setTimeout(() => popup.classList.add('show'), 10);
        });

        document.querySelector('.prediction-popup .cancel-btn').addEventListener('click', () => {
            const popup = document.querySelector('.prediction-popup');
            popup.classList.remove('show');
            setTimeout(() => popup.style.display = 'none', 300);
        });
        //people also watch

        const prcomptic1 = document.getElementById('prcomptic1')
        const prcompname1 = document.getElementById('prcompname1')
        const prcomprice1 = document.getElementById('prcompprice1')
        const prcomppercent1 = document.getElementById('prcomppercent1')

        const prcomptic2 = document.getElementById('prcomptic2')
        const prcompname2 = document.getElementById('prcompname2')
        const prcomprice2 = document.getElementById('prcompprice2')
        const prcomppercent2 = document.getElementById('prcomppercent2')

        const prcomptic3 = document.getElementById('prcomptic3')
        const prcompname3 = document.getElementById('prcompname3')
        const prcomprice3 = document.getElementById('prcompprice3')
        const prcomppercent3 = document.getElementById('prcomppercent3')

        const prcomptic4 = document.getElementById('prcomptic4')
        const prcompname4 = document.getElementById('prcompname4')
        const prcomprice4 = document.getElementById('prcompprice4')
        const prcomppercent4 = document.getElementById('prcomppercent4')

        const prcomptic5 = document.getElementById('prcomptic5')
        const prcompname5 = document.getElementById('prcompname5')
        const prcomprice5 = document.getElementById('prcompprice5')
        const prcomppercent5 = document.getElementById('prcomppercent5')

        const prcomptic6 = document.getElementById('prcomptic6')
        const prcompname6 = document.getElementById('prcompname6')
        const prcomprice6 = document.getElementById('prcompprice6')
        const prcomppercent6 = document.getElementById('prcomppercent6')

        const prcomptic7 = document.getElementById('prcomptic7')
        const prcompname7 = document.getElementById('prcompname7')
        const prcomprice7 = document.getElementById('prcompprice7')
        const prcomppercent7 = document.getElementById('prcomppercent7')

        const prcomptic8 = document.getElementById('prcomptic8')
        const prcompname8 = document.getElementById('prcompname8')
        const prcomprice8 = document.getElementById('prcompprice8')
        const prcomppercent8 = document.getElementById('prcomppercent8')

        const prcomptic9 = document.getElementById('prcomptic9')
        const prcompname9 = document.getElementById('prcompname9')
        const prcomprice9 = document.getElementById('prcompprice9')
        const prcomppercent9 = document.getElementById('prcomppercent9')

        const prcomptic10 = document.getElementById('prcomptic10')
        const prcompname10 = document.getElementById('prcompname10')
        const prcomprice10 = document.getElementById('prcompprice10')
        const prcomppercent10 = document.getElementById('prcomppercent10')

        function peoplealsowatch() {
            fetch("/public/people_also_watch.json")
                .then((res) => {
                    if (!res.ok) {
                        console.log(res.status);
                    }
                    return res.json();
                })
                .then((data) => {
                    prcomptic1.innerText = data[0].Ticker
                    prcompname1.innerText = data[0].Company_Name
                    prcomprice1.innerText = "$" + data[0].Price
                    const r1price1 = String(data[0].Price)
                    if (r1price1.substring(0, 1) === '-') {
                        prcomprice1.style.color = 'red'
                    }

                    const r1percent1 = String(data[0]['Change %'])
                    if (r1percent1.substring(0, 1) === '-') {
                        prcomppercent1.style.color = 'red'
                    }
                    prcomppercent1.innerText = String(data[0]['Change %'].toFixed(2)) + "%"

                    prcomptic2.innerText = data[1].Ticker
                    prcompname2.innerText = data[1].Company_Name
                    prcomprice2.innerText = "$" + data[1].Price
                    const r2price2 = String(data[1].Price)
                    if (r2price2.substring(0, 1) === '-') {
                        prcomprice2.style.color = 'red'
                    }

                    const r2percent2 = String(data[1]['Change %'])
                    if (r2percent2.substring(0, 1) === '-') {
                        prcomppercent2.style.color = 'red'
                    }
                    prcomppercent2.innerText = String(data[1]['Change %'].toFixed(2)) + "%"

                    prcomptic3.innerText = data[2].Ticker
                    prcompname3.innerText = data[2].Company_Name
                    prcomprice3.innerText = "$" + data[2].Price
                    const r3price3 = String(data[2].Price)
                    if (r3price3.substring(0, 1) === '-') {
                        prcomprice3.style.color = 'red'
                    }

                    const r3percent3 = String(data[2]['Change %'])
                    if (r3percent3.substring(0, 1) === '-') {
                        prcomppercent3.style.color = 'red'
                    }
                    prcomppercent3.innerText = String(data[2]['Change %'].toFixed(2)) + "%"

                    prcomptic4.innerText = data[3].Ticker
                    prcompname4.innerText = data[3].Company_Name
                    prcomprice4.innerText = "$" + data[3].Price
                    const r4price4 = String(data[3].Price)
                    if (r4price4.substring(0, 1) === '-') {
                        prcomprice4.style.color = 'red'
                    }

                    const r4percent4 = String(data[3]['Change %'])
                    if (r4percent4.substring(0, 1) === '-') {
                        prcomppercent4.style.color = 'red'
                    }
                    prcomppercent4.innerText = String(data[3]['Change %'].toFixed(2)) + "%"

                    prcomptic5.innerText = data[4].Ticker
                    prcompname5.innerText = data[4].Company_Name
                    prcomprice5.innerText = "$" + data[4].Price
                    const r5price5 = String(data[4].Price)
                    if (r5price5.substring(0, 1) === '-') {
                        prcomprice5.style.color = 'red'
                    }

                    const r5percent5 = String(data[4]['Change %'])
                    if (r5percent5.substring(0, 1) === '-') {
                        prcomppercent5.style.color = 'red'
                    }
                    prcomppercent5.innerText = String(data[4]['Change %'].toFixed(2)) + "%"

                    prcomptic6.innerText = data[5].Ticker
                    prcompname6.innerText = data[5].Company_Name
                    prcomprice6.innerText = "$" + data[5].Price
                    const r6price6 = String(data[5].Price)
                    if (r6price6.substring(0, 1) === '-') {
                        prcomprice6.style.color = 'red'
                    }

                    const r6percent6 = String(data[5]['Change %'])
                    if (r6percent6.substring(0, 1) === '-') {
                        prcomppercent6.style.color = 'red'
                    }
                    prcomppercent6.innerText = String(data[5]['Change %'].toFixed(2)) + "%"

                    prcomptic7.innerText = data[6].Ticker
                    prcompname7.innerText = data[6].Company_Name
                    prcomprice7.innerText = "$" + data[6].Price
                    const r7price7 = String(data[6].Price)
                    if (r7price7.substring(0, 1) === '-') {
                        prcomprice7.style.color = 'red'
                    }

                    const r7percent7 = String(data[6]['Change %'])
                    if (r7percent7.substring(0, 1) === '-') {
                        prcomppercent7.style.color = 'red'
                    }
                    prcomppercent7.innerText = String(data[6]['Change %'].toFixed(2)) + "%"

                    prcomptic8.innerText = data[7].Ticker
                    prcompname8.innerText = data[7].Company_Name
                    prcomprice8.innerText = "$" + data[7].Price
                    const r8price8 = String(data[7].Price)
                    if (r8price8.substring(0, 1) === '-') {
                        prcomprice8.style.color = 'red'
                    }

                    const r8percent8 = String(data[7]['Change %'])
                    if (r8percent8.substring(0, 1) === '-') {
                        prcomppercent8.style.color = 'red'
                    }
                    prcomppercent8.innerText = String(data[7]['Change %'].toFixed(2)) + "%"

                    prcomptic9.innerText = data[8].Ticker
                    prcompname9.innerText = data[8].Company_Name
                    prcomprice9.innerText = "$" + data[8].Price
                    const r9price9 = String(data[8].Price)
                    if (r9price9.substring(0, 1) === '-') {
                        prcomprice9.style.color = 'red'
                    }

                    const r9percent9 = String(data[8]['Change %'])
                    if (r9percent9.substring(0, 1) === '-') {
                        prcomppercent9.style.color = 'red'
                    }
                    prcomppercent9.innerText = String(data[8]['Change %'].toFixed(2)) + "%"

                    prcomptic10.innerText = data[9].Ticker
                    prcompname10.innerText = data[9].Company_Name
                    prcomprice10.innerText = "$" + data[9].Price
                    const r10price10 = String(data[9].Price)
                    if (r10price10.substring(0, 1) === '-') {
                        prcomprice10.style.color = 'red'
                    }

                    const r10percent10 = String(data[9]['Change %'])
                    if (r10percent10.substring(0, 1) === '-') {
                        prcomppercent10.style.color = 'red'
                    }
                    prcomppercent10.innerText = String(data[9]['Change %'].toFixed(2)) + "%"
                })
                .catch((err) => {
                    console.log(err);
                });
        }
        document.addEventListener("DOMContentLoaded", function () {
            peoplealsowatch();
        });

        let currentSlide = 0;
        const slideWidth = 210;
        const visibleSlides = 5;
        const totalSlides = document.querySelectorAll('.company-box').length;
        const slider1 = document.getElementById('slider1');

        function slide(direction) {
            currentSlide += direction;
            const maxSlide = totalSlides - visibleSlides;

            if (currentSlide < 0) {
                currentSlide = 0;
            }
            if (currentSlide > maxSlide) {
                currentSlide = maxSlide;
            }
            slider1.style.transform = `translateX(${-currentSlide * slideWidth}px)`;
        }

    </script>

    <script src="/public/Stockspage.js"></script>
</body>

</html>